<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏° BMI DEK DTM</title>
  <style>
    :root{ --bg:#f6f7fb; --card:#fff; --ink:#0f172a; --muted:#64748b; --link:#2563eb; --ring:#93c5fd; --danger:#ef4444;}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,"Noto Sans Thai",sans-serif;background:var(--bg);color:var(--ink)}
    .container{max-width:1100px;margin:auto;padding:20px}
    .card{background:var(--card);border-radius:14px;box-shadow:0 8px 24px rgba(2,6,23,.08);padding:16px;margin-bottom:16px}
    h1{margin:0 0 8px;font-size:1.35rem} h2{margin:0 0 10px;font-size:1.05rem}
    p.lead{margin:0;color:var(--muted)}
    .tabs{display:flex;gap:8px;margin-bottom:12px}
    .tabbtn{border:1px solid #e5e7eb;background:#f8fafc;border-radius:10px;padding:9px 12px;font-weight:600;cursor:pointer}
    .tabbtn.active{background:var(--link);color:#fff;border-color:transparent}
    .notice{display:flex;gap:12px;align-items:flex-start;background:#eef2ff;border:1px solid #dbeafe;border-radius:12px;padding:12px}
    .grid{display:grid;gap:12px} .grid-4{grid-template-columns:repeat(4,1fr)}
    @media (max-width:800px){ .grid-4{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:500px){ .grid-4{grid-template-columns:1fr} }
    label{font-size:.9rem;margin:4px 0;display:block}
    .field{background:#fafafa;border:1px solid #e5e7eb;border-radius:10px;padding:10px 12px;width:100%}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    button{border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
    .primary{background:var(--link);color:#fff} .ghost{background:#f1f5f9} .danger{background:#fee2e2;color:#991b1b}
    .table-wrap{overflow:auto} table{width:100%;border-collapse:collapse}
    th,td{padding:10px;border-bottom:1px solid #eef2f7;text-align:left;white-space:nowrap}
    th{background:#f8fafc}
    .status{padding:2px 8px;border-radius:999px;font-size:.85rem;font-weight:700}
    .low{background:#e0f2fe;color:#075985} .ok{background:#dcfce7;color:#166534} .over{background:#fef3c7;color:#92400e}
    .ob1{background:#fde68a;color:#92400e} .ob2{background:#fee2e2;color:#991b1b}
    .tag{padding:2px 8px;border-radius:999px;font-size:.85rem}
    .oktag{background:#dcfce7;color:#166534} .waittag{background:#fff7ed;color:#92400e}
    .summary{margin-top:10px;font-size:.95rem;background:#f1f5f9;padding:10px;border-radius:8px}
  </style>
</head>
<body>
  <div class="container">
    <div class="tabs">
      <button class="tabbtn active" data-tab="formTab">‡∏´‡∏ô‡πâ‡∏≤ 1: ‡∏Å‡∏£‡∏≠‡∏Å BMI</button>
      <button class="tabbtn" data-tab="statusTab">‡∏´‡∏ô‡πâ‡∏≤ 2: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á</button>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤ 1 -->
    <section id="formTab" class="card">
      <h1>‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</h1>
      <div class="notice"><div>üì£</div><div><b>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î ‚Äú‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì & ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‚Äù</b><br>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏ô‡∏∞‡∏Ñ‡∏∞ üíô</div></div>
      <form id="bmiForm" style="margin-top:12px">
        <div class="grid grid-4">
          <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á</label><input id="fullname" class="field" required></div>
          <div><label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label><input id="nickname" class="field" required></div>
          <div><label>‡πÄ‡∏û‡∏®</label>
            <select id="gender" class="field">
              <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏® ‚Äî</option>
              <option>‡∏ä‡∏≤‡∏¢</option><option>‡∏´‡∏ç‡∏¥‡∏á</option><option>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
            </select>
          </div>
          <div><label>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)</label><input id="weight" type="number" step="0.1" class="field" required></div>
          <div><label>‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡∏ã‡∏°.)</label><input id="height" type="number" step="0.1" class="field" required></div>
        </div>
        <div class="actions">
          <button class="primary">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì & ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          <button type="button" id="resetBtn" class="ghost">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
          <button type="button" id="exportBtn" class="ghost">Export CSV</button>
          <button type="button" id="clearAllBtn" class="danger">‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        </div>
        <div id="instant" class="instant"></div>
      </form>
    </section>

    <section class="card">
      <h2>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>
      <div class="table-wrap">
        <table id="table"><thead>
          <tr><th>#</th><th>‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á</th><th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</th><th>‡πÄ‡∏û‡∏®</th><th>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å</th><th>‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á</th><th>BMI</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th></tr>
        </thead><tbody></tbody></table>
      </div>
      <div id="summaryBox" class="summary"></div>
    </section>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤ 2 -->
    <section id="statusTab" class="card" style="display:none">
      <h1>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h1>
      <div class="table-wrap">
        <table id="rosterTable"><thead><tr><th>#</th><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th><th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th><th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</th><th>BMI</th></tr></thead><tbody></tbody></table>
      </div>
      <p id="rosterSummary" class="lead"></p>
    </section>
  </div>

  <script>
    const KEY='bmi_entries_v2'; const $=id=>document.getElementById(id);
    const ROSTER=["‡∏Å‡∏ô‡∏Å‡∏ô‡∏≤‡∏ñ ‡∏õ‡∏≤‡∏ó‡∏≤‡∏ô","‡∏ì‡∏±‡∏ê‡∏ô‡∏¥‡∏ä‡∏≤ ‡∏´‡∏¥‡πâ‡∏ô‡∏Æ‡∏±‡πâ‡∏ô","‡∏û‡∏£‡∏û‡∏£‡∏´‡∏° ‡∏Ç‡∏ß‡∏±‡∏ç‡πÄ‡∏°‡∏∑‡∏≠‡∏á","‡∏û‡∏£‡πÑ‡∏û‡∏£‡∏¥‡∏ô ‡∏™‡∏∏‡∏Å‡∏™‡∏±‡∏¢","‡πÅ‡∏û‡∏£‡∏†‡∏±‡∏™ ‡∏û‡∏á‡∏©‡πå‡∏®‡∏¥‡∏£‡∏¥‡∏Å‡∏∏‡∏•","‡∏ä‡∏∑‡πà‡∏ô‡∏Å‡∏°‡∏• ‡∏ï‡∏£‡∏∞‡∏Å‡∏∏‡∏•‡∏ô‡∏¥‡∏ï‡∏¢‡πå","‡∏î‡∏•‡∏ç‡∏ò‡∏¥‡∏î‡∏≤ ‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê","‡∏û‡∏£‡∏ò‡∏¥‡∏î‡∏≤ ‡∏ô‡∏≤‡πÄ‡∏à‡∏£‡∏¥‡∏ç","‡πÇ‡∏ç‡∏Æ‡∏≤‡∏ô‡∏¥‡∏™ ‡∏à‡∏á‡∏£‡∏±‡∏Å‡∏©‡πå","‡∏ò‡∏±‡∏ô‡∏¢‡πå‡∏ä‡∏ô‡∏Å ‡∏û‡∏•‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå","‡∏ô‡∏±‡∏™‡∏ã‡∏¥‡∏°‡∏≤ ‡∏Å‡∏¥‡∏à‡∏à‡∏≤‡∏£‡∏±‡∏Å‡∏©‡πå","‡∏õ‡∏ß‡∏µ‡∏ì‡πå‡∏Å‡∏£ ‡∏™‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡πå","‡∏ü‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏Æ‡∏≤‡∏• ‡∏Ç‡∏∏‡∏ô‡∏≠‡∏¥‡∏ô‡∏Ñ‡∏µ‡∏£‡∏µ","‡∏ã‡∏µ‡∏ô‡∏µ‡∏ô ‡∏≠‡∏ô‡∏∏‡∏Å‡∏π‡∏•","‡∏Ñ‡∏ë‡∏≤‡∏ó‡∏¥‡∏û‡∏¢‡πå ‡∏ä‡∏∏‡∏°‡πÄ‡∏õ‡∏µ‡∏¢","‡∏à‡∏¥‡∏£‡∏ß‡∏±‡∏í‡∏ì‡πå ‡∏õ‡∏è‡∏¥‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì‡πå","‡∏ü‡∏¥‡∏ï‡∏£‡∏µ‡∏¢‡∏≤ ‡∏î‡πà‡∏≠‡∏•‡πä‡∏∞","‡∏°‡∏π‡∏Æ‡∏≥‡∏´‡∏°‡∏±‡∏î‡∏ö‡∏±‡∏¢‡∏Æ‡∏≤‡∏Å‡∏µ ‡∏™‡∏≤‡πÅ‡∏•‡∏∞","‡∏•‡∏±‡∏Ñ‡∏ô‡∏≤ ‡∏õ‡∏•‡∏≠‡∏î‡∏≠‡πà‡∏≠‡∏ô","‡∏®‡∏¥‡∏ß‡∏Å‡∏£ ‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ß‡∏á‡∏®‡πå","‡∏≠‡∏±‡∏ä‡∏£‡∏≠‡∏ô ‡πÄ‡∏´‡πá‡∏°‡πÄ‡∏≠‡∏µ‡∏¢‡∏î","‡∏ï‡∏±‡∏™‡∏ô‡∏µ‡∏° ‡∏î‡∏∑‡∏≠‡∏£‡∏≤‡πÅ‡∏°","‡∏ô‡∏±‡∏™‡∏£‡∏µ‡∏ô ‡πÄ‡∏à‡πä‡∏∞‡∏™‡∏±‡∏ô","‡∏Å‡∏±‡∏•‡∏¢‡∏≤‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏™‡∏≠‡∏ô‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°","‡∏ã‡∏¥‡∏•‡∏°‡∏µ‡πà‡∏¢‡πå ‡∏¢‡∏≠‡∏î‡πÅ‡∏Å‡πâ‡∏ß","‡∏ô‡∏π‡∏£‡∏∏‡∏•‡∏Æ‡∏π‡∏î‡∏≤ ‡πÅ‡∏ß‡πÇ‡∏ã‡∏∞","‡∏Å‡∏ä‡∏Å‡∏£ ‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡∏û‡∏Ñ‡∏∏‡∏ì","‡∏£‡∏¥‡∏î‡∏î‡πå‡∏ß‡∏±‡∏ô ‡πÅ‡∏°‡∏´‡∏∞","‡∏ô‡∏∏‡∏™‡∏£‡∏µ‡∏ï‡πâ‡∏≤ ‡∏£‡∏±‡∏Å‡πÑ‡∏ó‡∏£","‡∏õ‡∏∏‡∏ç‡∏ç‡∏û‡∏±‡∏í‡∏ô‡πå ‡πÄ‡∏î‡∏ä‡∏â‡∏¥‡∏°","‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏¥‡∏£‡∏¥ ‡πÄ‡∏ó‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå","‡∏Ç‡∏ß‡∏±‡∏ç‡∏°‡∏ô‡∏±‡∏™ ‡∏ä‡∏π‡∏ö‡∏±‡∏ß‡πÅ‡∏Å‡πâ‡∏ß","‡∏î‡∏ß‡∏á‡∏Å‡∏°‡∏• ‡∏£‡∏≤‡∏ä‡∏Ñ‡∏£‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á","‡∏ï‡∏±‡∏™‡∏ô‡∏¥‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏°‡∏∞","‡∏ô‡∏±‡∏ô‡∏ó‡∏¥‡∏Å‡∏≤‡∏ô‡∏ï‡πå ‡∏´‡∏°‡∏≤‡∏î‡∏´‡∏ô‡∏∏‡∏î","‡∏ô‡∏¥‡∏®‡∏±‡∏•‡∏°‡∏µ ‡∏õ‡∏π‡πÄ‡∏ï‡πä‡∏∞","‡∏õ‡∏±‡∏ì‡∏ì‡∏ò‡∏£ ‡∏Ñ‡∏∏‡πâ‡∏°‡∏£‡∏±‡∏Å‡∏©‡πå","‡∏û‡∏¥‡∏ä‡∏ç‡∏≤ ‡∏°‡∏π‡∏´‡∏∞‡∏´‡∏°‡∏±‡∏î","‡∏ß‡∏£‡∏£‡∏ì‡∏©‡∏≤ ‡πÑ‡∏ä‡∏¢‡πÇ‡∏Ñ‡∏ï‡∏£‡πå","‡∏™‡∏¥‡∏£‡∏¥‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏õ‡∏∏‡∏ô‡∏ó‡∏∞‡∏°‡∏∏‡∏ì‡∏µ","‡πÄ‡∏™‡∏≤‡∏ß‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‡πÄ‡∏ß‡∏ä‡∏¢‡∏°","‡∏≠‡∏ò‡∏¥‡∏ä‡∏≤ ‡∏†‡∏≤‡∏ì‡∏∏‡∏ß‡∏±‡∏í‡∏ô‡πå‡∏†‡∏¥‡∏ç‡πÇ‡∏ç","‡∏Æ‡∏±‡∏ô‡∏ô‡∏≤‡∏£‡πå ‡∏´‡∏¢‡∏µ‡πÄ‡∏´‡∏¢‡∏á","‡πÄ‡∏™‡∏é‡∏ê‡∏ß‡∏∏‡∏í‡∏¥ ‡∏à‡∏¥‡∏ï‡∏£‡∏ß‡∏¥‡∏£‡∏±‡∏ï‡∏ô‡πå"];

    const esc=s=>String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));
    const load=()=>JSON.parse(localStorage.getItem(KEY)||'[]');
    const save=rows=>localStorage.setItem(KEY,JSON.stringify(rows));
    const classify=bmi=>{
      if(bmi<18.5) return {label:'‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡∏ì‡∏ë‡πå',cls:'low'};
      if(bmi<23.0) return {label:'‡∏õ‡∏Å‡∏ï‡∏¥',cls:'ok'};
      if(bmi<25.0) return {label:'‡∏ó‡πâ‡∏ß‡∏°',cls:'over'};
      if(bmi<30.0) return {label:'‡∏≠‡πâ‡∏ß‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö 1',cls:'ob1'};
      return {label:'‡∏≠‡πâ‡∏ß‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö 2',cls:'ob2'};
    };

    $('bmiForm').onsubmit=e=>{
      e.preventDefault();
      const fn=$('fullname').value.trim(), nn=$('nickname').value.trim(), g=$('gender').value.trim();
      const w=parseFloat($('weight').value), hcm=parseFloat($('height').value);
      if(!fn||!nn||!g||!(w>0)||!(hcm>0)) return;
      const bmi=w/Math.pow(hcm/100,2), cat=classify(bmi);
      $('instant').innerHTML=`BMI ‡∏Ç‡∏≠‡∏á <b>${esc(fn)}</b> (${esc(nn)}, ${esc(g)}) = ${bmi.toFixed(2)} ‚Äî <span class="status ${cat.cls}">${cat.label}</span>`;
      const rows=load(); const rec={ts:Date.now(),fullname:fn,nickname:nn,gender:g,weight:w,height:hcm,bmi};
      const idx=rows.findIndex(r=>r.fullname===fn); if(idx>=0) rows[idx]=rec; else rows.push(rec);
      save(rows); renderAll(); e.target.reset();
    };
    $('resetBtn').onclick=()=>{$('bmiForm').reset();$('instant').innerHTML='';};
    $('clearAllBtn').onclick=()=>{if(confirm('‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?')){localStorage.removeItem(KEY);renderAll();}};
    $('exportBtn').onclick=()=>{
      const rows=load();
      const lines=[['timestamp','fullname','nickname','gender','weight','height','bmi','category'].join(',')];
      rows.forEach(r=>lines.push([new Date(r.ts).toISOString(),r.fullname,r.nickname,r.gender,r.weight,r.height,r.bmi.toFixed(2),classify(r.bmi).label].join(',')));
      const s=calcStats(rows.map(r=>r.bmi));
      lines.push(''); lines.push('n,mean,median,sd'); lines.push([s.n,s.mean,s.median,s.sd].join(','));
      const blob=new Blob([lines.join('\n')],{type:'text/csv'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='bmi_export.csv'; a.click();
    };

    function calcStats(arr){
      const n=arr.length; if(n===0) return {n:0,mean:'‚Äî',median:'‚Äî',sd:'‚Äî'};
      const mean=(arr.reduce((a,b)=>a+b,0)/n).toFixed(2);
      const sorted=[...arr].sort((a,b)=>a-b);
      const median=(n%2?sorted[(n-1)/2]:(sorted[n/2-1]+sorted[n/2])/2).toFixed(2);
      const sd=Math.sqrt(arr.reduce((s,x)=>s+Math.pow(x-mean,2),0)/(n-1)).toFixed(2);
      return {n,mean,median,sd};
    }

    function renderTable(){
      const tb=document.querySelector('#table tbody'); tb.innerHTML='';
      const rows=load();
      rows.forEach((r,i)=>{const c=classify(r.bmi);
        tb.innerHTML+=`<tr><td>${i+1}</td><td>${new Date(r.ts).toLocaleString()}</td><td>${esc(r.fullname)}</td><td>${esc(r.nickname)}</td><td>${esc(r.gender)}</td><td>${r.weight}</td><td>${r.height}</td><td>${r.bmi.toFixed(2)}</td><td><span class="status ${c.cls}">${c.label}</span></td></tr>`;
      });
      const s=calcStats(rows.map(r=>r.bmi));
      $('summaryBox').innerHTML=`‡∏£‡∏ß‡∏° ${s.n} ‡∏Ñ‡∏ô ‚Ä¢ Mean=${s.mean} ‚Ä¢ Median=${s.median} ‚Ä¢ SD=${s.sd}`;
    }

    function renderRoster(){
      const rows=load(); const map=new Map(rows.map(r=>[r.fullname.trim(),r]));
      const tb=document.querySelector('#rosterTable tbody'); tb.innerHTML=''; let done=0;
      ROSTER.forEach((name,i)=>{const rec=map.get(name); const sent=!!rec; if(sent) done++;
        tb.innerHTML+=`<tr><td>${i+1}</td><td>${esc(name)}</td><td>${sent?'<span class="tag oktag">‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</span>':'<span class="tag waittag">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á</span>'}</td><td>${sent?new Date(rec.ts).toLocaleString():'‚Äî'}</td><td>${sent?esc(rec.nickname):'‚Äî'}</td><td>${sent?rec.bmi.toFixed(2):'‚Äî'}</td></tr>`;
      });
      $('rosterSummary').textContent=`‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß ${done} ‡∏Ñ‡∏ô ‚Ä¢ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á ${ROSTER.length-done} ‡∏Ñ‡∏ô ‚Ä¢ ‡∏£‡∏ß‡∏° ${ROSTER.length} ‡∏Ñ‡∏ô`;
    }

    function renderAll(){renderTable();renderRoster();}
    renderAll();

    document.querySelectorAll('.tabbtn').forEach(btn=>{
      btn.onclick=()=>{document.querySelectorAll('.tabbtn').forEach(b=>b.classList.remove('active')); btn.classList.add('active');
        ['formTab','statusTab'].forEach(id=>$(id).style.display=(id===btn.dataset.tab?'block':'none'));
        if(btn.dataset.tab==='statusTab') renderRoster();
      };
    });
  </script>
</body>
</html>
